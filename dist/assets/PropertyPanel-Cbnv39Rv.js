import{ak as I,a_ as B,a$ as D,am as F,d as C,aQ as L,an as z,r as M,N as f,t as $,o as r,q as p,w as G,p as m,a4 as d,e as s,x as S,S as T,aq as w,a5 as V,c,G as x,y as b,F as A,m as n,b0 as X,a6 as Y,ai as q,ar as H,H as O,a8 as W,E as Z,M as Q}from"./index-B9WM9B43.js";import{a as j,E as J}from"./el-table-column-CfNB-tiT.js";import"./el-checkbox-CIZQMxKL.js";import{u as K}from"./mapEditor-C3208Y0J.js";import"./_initCloneObject-CtNQcUp4.js";import"./index-BJgmA4Qg.js";const R=["light","dark"],U=I({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:B(D),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:R,default:"light"}}),ee={close:y=>y instanceof MouseEvent},te=C({name:"ElAlert"}),ae=C({...te,props:U,emits:ee,setup(y,{emit:o}){const i=y,{Close:u}=X,E=L(),l=z("alert"),_=M(!0),g=f(()=>D[i.type]),a=f(()=>!!(i.description||E.default)),t=e=>{_.value=!1,o("close",e)};return(e,v)=>(r(),$(q,{name:s(l).b("fade"),persisted:""},{default:p(()=>[G(m("div",{class:d([s(l).b(),s(l).m(e.type),s(l).is("center",e.center),s(l).is(e.effect)]),role:"alert"},[e.showIcon&&(e.$slots.icon||s(g))?(r(),$(s(T),{key:0,class:d([s(l).e("icon"),{[s(l).is("big")]:s(a)}])},{default:p(()=>[w(e.$slots,"icon",{},()=>[(r(),$(V(s(g))))])]),_:3},8,["class"])):S("v-if",!0),m("div",{class:d(s(l).e("content"))},[e.title||e.$slots.title?(r(),c("span",{key:0,class:d([s(l).e("title"),{"with-description":s(a)}])},[w(e.$slots,"title",{},()=>[x(b(e.title),1)])],2)):S("v-if",!0),s(a)?(r(),c("p",{key:1,class:d(s(l).e("description"))},[w(e.$slots,"default",{},()=>[x(b(e.description),1)])],2)):S("v-if",!0),e.closable?(r(),c(A,{key:2},[e.closeText?(r(),c("div",{key:0,class:d([s(l).e("close-btn"),s(l).is("customed")]),onClick:t},b(e.closeText),3)):(r(),$(s(T),{key:1,class:d(s(l).e("close-btn")),onClick:t},{default:p(()=>[n(s(u))]),_:1},8,["class"]))],64)):S("v-if",!0)],2)],2),[[Y,_.value]])]),_:3},8,["name"]))}});var se=F(ae,[["__file","alert.vue"]]);const le=H(se),oe={class:"property-panel"},re={class:"panel-header"},ie={class:"panel-content"},ue={key:0,class:"property-table"},ne={class:"value-text"},pe={key:1,class:"property-table"},ce={class:"value-text"},de={key:2,class:"multi-select"},me=C({__name:"PropertyPanel",setup(y){const o=K(),i=f(()=>o.selectedElements),u=f(()=>o.selection.selectedType),E=a=>({point:"点",path:"路径",location:"位置"})[a]||"属性",l=f(()=>{var e,v,k;const a=[],t=(e=o.mapData)==null?void 0:e.mapInfo;if(t){a.push({attribute:"Name",value:t.name||"新地图"}),a.push({attribute:"Scale of x-axis",value:`${t.scaleX||50} mm`}),a.push({attribute:"Scale of y-axis",value:`${t.scaleY||50} mm`});const N=o.layers.find(P=>P.name==="Default layer");a.push({attribute:"Layers",value:N?N.name:((v=o.layers[0])==null?void 0:v.name)||"Default layer"});const h=o.layerGroups.find(P=>P.name==="Default layer group");a.push({attribute:"Layer groups",value:h?h.name:((k=o.layerGroups[0])==null?void 0:k.name)||"Default layer group"})}return a}),_=f(()=>{if(i.value.length!==1)return[];const a=i.value[0],t=[];if(u.value==="point"){const e=a;t.push({attribute:"名称",value:e.name||""}),t.push({attribute:"编码",value:e.code||""}),t.push({attribute:"X坐标",value:`${e.x.toFixed(1)} mm`}),t.push({attribute:"Y坐标",value:`${e.y.toFixed(1)} mm`}),t.push({attribute:"Z坐标",value:e.z?`${e.z.toFixed(1)} mm`:"NaN mm"}),t.push({attribute:"角度",value:"NaN deg"}),t.push({attribute:"类型",value:e.type||"Halt point"}),t.push({attribute:"半径",value:`${e.editorProps.radius} px`}),t.push({attribute:"颜色",value:e.editorProps.color||"#1890ff"}),t.push({attribute:"状态",value:e.status||"0"}),e.description&&t.push({attribute:"描述",value:e.description})}else if(u.value==="path"){const e=a;t.push({attribute:"名称",value:e.name||""}),t.push({attribute:"编码",value:e.code||""}),t.push({attribute:"长度",value:e.length?`${e.length.toFixed(2)} mm`:"NaN mm"}),t.push({attribute:"类型",value:e.type||"Line"}),t.push({attribute:"线条颜色",value:e.editorProps.strokeColor||"#52c41a"}),t.push({attribute:"线条宽度",value:`${e.editorProps.strokeWidth} px`}),t.push({attribute:"线条样式",value:e.editorProps.lineStyle||"solid"}),t.push({attribute:"状态",value:e.status||"0"}),e.description&&t.push({attribute:"描述",value:e.description})}else if(u.value==="location"){const e=a;t.push({attribute:"名称",value:e.name||""}),t.push({attribute:"编码",value:e.code||""}),t.push({attribute:"位置类型",value:e.locationTypeId?String(e.locationTypeId):"NaN"}),t.push({attribute:"区块ID",value:e.blockId?String(e.blockId):"NaN"}),t.push({attribute:"X坐标",value:e.x?`${e.x.toFixed(1)} mm`:"NaN mm"}),t.push({attribute:"Y坐标",value:e.y?`${e.y.toFixed(1)} mm`:"NaN mm"}),t.push({attribute:"Z坐标",value:e.z?`${e.z.toFixed(1)} mm`:"NaN mm"}),t.push({attribute:"填充颜色",value:e.editorProps.fillColor||"#1890ff"}),t.push({attribute:"填充透明度",value:String(e.editorProps.fillOpacity||.3)}),t.push({attribute:"边框颜色",value:e.editorProps.strokeColor||"#1890ff"}),t.push({attribute:"边框宽度",value:`${e.editorProps.strokeWidth} px`}),t.push({attribute:"状态",value:e.status||"0"}),e.description&&t.push({attribute:"描述",value:e.description})}return t}),g=async()=>{try{await W.confirm(`确定要删除选中的 ${i.value.length} 个元素吗？`,"提示",{type:"warning"}),i.value.forEach(a=>{u.value==="point"?o.deletePoint(a.id):u.value==="path"?o.deletePath(a.id):u.value==="location"&&o.deleteLocation(a.id)}),o.clearSelection(),Z.success("删除成功")}catch{}};return(a,t)=>{const e=j,v=J,k=le,N=O;return r(),c("div",oe,[m("div",re,[m("h3",null,b(u.value?E(u.value):i.value.length===0?"Layout":"属性"),1)]),m("div",ie,[i.value.length===0?(r(),c("div",ue,[n(v,{data:l.value,border:"",size:"small","show-header":!0,style:{width:"100%"}},{default:p(()=>[n(e,{prop:"attribute",label:"属性",width:"140"}),n(e,{prop:"value",label:"值"},{default:p(({row:h})=>[m("span",ne,b(h.value),1)]),_:1})]),_:1},8,["data"])])):i.value.length===1?(r(),c("div",pe,[n(v,{data:_.value,border:"",size:"small","show-header":!0,style:{width:"100%"}},{default:p(()=>[n(e,{prop:"attribute",label:"属性",width:"140"}),n(e,{prop:"value",label:"值"},{default:p(({row:h})=>[m("span",ce,b(h.value),1)]),_:1})]),_:1},8,["data"])])):(r(),c("div",de,[n(k,{title:"已选择多个元素",description:`已选择 ${i.value.length} 个元素`,type:"info",closable:!1},null,8,["description"]),n(N,{type:"danger",style:{"margin-top":"16px",width:"100%"},onClick:g},{default:p(()=>t[0]||(t[0]=[x(" 删除选中元素 ")])),_:1})]))])])}}}),ge=Q(me,[["__scopeId","data-v-11a6f752"]]);export{ge as default};
