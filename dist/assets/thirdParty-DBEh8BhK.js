import{a9 as p,d as _,aa as b,h as v,N as w,c as k,o as C,m as o,p as e,e as T,q as c,H as $,G as x,_ as y,a8 as E,i as B,M as G}from"./index-B9WM9B43.js";import{E as I,a as M}from"./el-table-column-CfNB-tiT.js";import"./el-checkbox-CIZQMxKL.js";function N(i,s){return p({url:"/auth/binding/"+i,method:"get",params:{tenantId:s,domain:window.location.host}})}function P(i){return p({url:"/auth/unlock/"+i,method:"delete"})}function D(){return p({url:"/system/social/list",method:"get"})}const S=["src"],z={id:"git-user-binding"},U={id:"authlist",class:"user-bind"},V={class:"git-other-login-icon"},j={class:"git-other-login-icon"},q={class:"git-other-login-icon"},A={class:"git-other-login-icon"},H={class:"git-other-login-icon"},K=_({__name:"thirdParty",props:{auths:b.any.isRequired},setup(i){const{proxy:s}=v(),u=i,m=w(()=>u.auths),h=r=>{E.confirm('您确定要解除"'+r.source+'"的账号绑定吗？').then(()=>P(r.id)).then(t=>{t.code===200?(s==null||s.$modal.msgSuccess("解绑成功"),s==null||s.$tab.refreshPage()):s==null||s.$modal.msgError(t.msg)}).catch(()=>{})},l=r=>{N(r,B().tenantId).then(t=>{t.code===200?window.location.href=t.data:s==null||s.$modal.msgError(t.msg)})};return(r,t)=>{const n=M,g=$,f=I,d=y;return C(),k("div",null,[o(f,{data:T(m),border:"",style:{width:"100%",height:"100%","font-size":"14px"}},{default:c(()=>[o(n,{label:"序号",width:"50",type:"index"}),o(n,{label:"绑定账号平台",width:"140",align:"center",prop:"source","show-overflow-tooltip":""}),o(n,{label:"头像",width:"120",align:"center",prop:"avatar"},{default:c(a=>[e("img",{src:a.row.avatar,style:{width:"45px",height:"45px"}},null,8,S)]),_:1}),o(n,{label:"系统账号",width:"180",align:"center",prop:"userName","show-overflow-tooltip":!0}),o(n,{label:"绑定时间",width:"180",align:"center",prop:"createTime"}),o(n,{label:"操作",width:"80",align:"center","class-name":"small-padding fixed-width"},{default:c(a=>[o(g,{size:"small",type:"text",onClick:L=>h(a.row)},{default:c(()=>t[5]||(t[5]=[x("解绑")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e("div",z,[t[11]||(t[11]=e("h4",{class:"provider-desc"},"你可以绑定以下第三方帐号",-1)),e("div",U,[e("a",{class:"third-app",href:"#",title:"使用 微信 账号授权登录",onClick:t[0]||(t[0]=a=>l("wechat"))},[e("div",V,[o(d,{"icon-class":"wechat"})]),t[6]||(t[6]=e("span",{class:"app-name"},"WeiXin",-1))]),e("a",{class:"third-app",href:"#",title:"使用 MaxKey 账号授权登录",onClick:t[1]||(t[1]=a=>l("maxkey"))},[e("div",j,[o(d,{"icon-class":"maxkey"})]),t[7]||(t[7]=e("span",{class:"app-name"},"MaxKey",-1))]),e("a",{class:"third-app",href:"#",title:"使用 TopIam 账号授权登录",onClick:t[2]||(t[2]=a=>l("topiam"))},[e("div",q,[o(d,{"icon-class":"topiam"})]),t[8]||(t[8]=e("span",{class:"app-name"},"TopIam",-1))]),e("a",{class:"third-app",href:"#",title:"使用 Gitee 账号授权登录",onClick:t[3]||(t[3]=a=>l("gitee"))},[e("div",A,[o(d,{"icon-class":"gitee"})]),t[9]||(t[9]=e("span",{class:"app-name"},"Gitee",-1))]),e("a",{class:"third-app",href:"#",title:"使用 GitHub 账号授权登录",onClick:t[4]||(t[4]=a=>l("github"))},[e("div",H,[o(d,{"icon-class":"github"})]),t[10]||(t[10]=e("span",{class:"app-name"},"Github",-1))])])])])}}}),O=G(K,[["__scopeId","data-v-a94390e1"]]),F=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"}));export{O as T,D as g,F as t};
